(this["webpackJsonpshopping-cart"]=this["webpackJsonpshopping-cart"]||[]).push([[0],{15:function(t){t.exports=JSON.parse('[{"id":1,"title":"iPad 4 Mini","price":500.01,"inventory":2},{"id":2,"title":"H&M T-Shirt White","price":10.99,"inventory":10},{"id":3,"title":"Charli XCX - Sucker CD","price":19.99,"inventory":5}]')},16:function(t,e,a){t.exports=a(29)},29:function(t,e,a){"use strict";a.r(e);var r=a(0),c=a.n(r),n=a(10),d=a(2),l=a(4),i=(a(28),a(14)),u=a.n(i),o=a(3);const s={addedIds:[],quantityById:{}},p=(t=s.addedIds,e)=>{switch(e.type){case"ADD_TO_CART":return-1!==t.indexOf(e.productId)?t:[...t,e.productId];default:return t}},E=(t=s.quantityById,e)=>{switch(e.type){case"ADD_TO_CART":const a=e.productId;return Object(o.a)({},t,{[a]:(t[a]||0)+1});default:return t}};var y=(t=s,e)=>{switch(e.type){case"CHECKOUT_REQUEST":return s;case"CHECKOUT_FAILURE":return e.cart;default:return{addedIds:p(t.addedIds,e),quantityById:E(t.quantityById,e)}}};const m=(t,e)=>{switch(e.type){case"ADD_TO_CART":return Object(o.a)({},t,{inventory:t.inventory-1});default:return t}};var C=Object(d.c)({byId:(t={},e)=>{switch(e.type){case"RECEIVE_PRODUCTS":return Object(o.a)({},t,{},e.products.reduce((t,e)=>(t[e.id]=e,t),{}));default:const a=e.productId;return a?Object(o.a)({},t,{[a]:m(t[a],e)}):t}},visibleIds:(t=[],e)=>{switch(e.type){case"RECEIVE_PRODUCTS":return e.products.map(t=>t.id);default:return t}}});const v=(t,e)=>t.byId[e],h=t=>t.visibleIds.map(e=>v(t,e));var b=Object(d.c)({cart:y,products:C});const O=t=>(t=>t.addedIds)(t.cart),I=(t,e)=>((t,e)=>t.quantityById[e]||0)(t.cart,e),T=(t,e)=>v(t.products,e),k=t=>O(t).reduce((e,a)=>e+T(t,a).price*I(t,a),0).toFixed(2),_=t=>O(t).map(e=>Object(o.a)({},T(t,e),{quantity:I(t,e)}));var R=a(15);var S=(t,e)=>setTimeout(()=>t(R),e||100),j=(t,e,a)=>setTimeout(()=>e(),a||100);var A=({price:t,quantity:e,title:a})=>c.a.createElement("div",null,a," - $",t,e?" x ".concat(e):null);var D=({product:t,onAddToCartClicked:e})=>c.a.createElement("div",{style:{marginBottom:20}},c.a.createElement(A,{title:t.title,price:t.price,quantity:t.inventory}),c.a.createElement("button",{onClick:e,disabled:t.inventory>0?"":"disabled"},t.inventory>0?"Add to cart":"Sold Out"));var U=({title:t,children:e})=>c.a.createElement("div",null,c.a.createElement("h3",null,t),c.a.createElement("div",null,e));var f=Object(l.b)(t=>({products:h(t.products)}),{addToCart:t=>(e,a)=>{a().products.byId[t].inventory>0&&e((t=>({type:"ADD_TO_CART",productId:t}))(t))}})(({products:t,addToCart:e})=>c.a.createElement(U,{title:"Products"},t.map(t=>c.a.createElement(D,{key:t.id,product:t,onAddToCartClicked:()=>e(t.id)}))));var q=({products:t,total:e,onCheckoutClicked:a})=>{const r=t.length>0,n=r?t.map(t=>c.a.createElement(A,{title:t.title,price:t.price,quantity:t.quantity,key:t.id})):c.a.createElement("em",null,"Please add some products to cart.");return c.a.createElement("div",null,c.a.createElement("h3",null,"Your Cart"),c.a.createElement("div",null,n),c.a.createElement("p",null,"Total: $",e),c.a.createElement("button",{onClick:a,disabled:r?"":"disabled"},"Checkout"))};var w=Object(l.b)(t=>({products:_(t),total:k(t)}),{checkout:t=>(e,a)=>{const r=a().cart;e({type:"CHECKOUT_REQUEST"}),j(t,()=>{e({type:"CHECKOUT_SUCCESS",cart:r})})}})(({products:t,total:e,checkout:a})=>c.a.createElement(q,{products:t,total:e,onCheckoutClicked:()=>a(t)}));var B=()=>c.a.createElement("div",null,c.a.createElement("h2",null,"Shopping Cart Example"),c.a.createElement("hr",null),c.a.createElement(f,null),c.a.createElement("hr",null),c.a.createElement(w,null));const g=[u.a];const x=Object(d.d)(b,Object(d.a)(...g));x.dispatch(t=>{S(e=>{t((t=>({type:"RECEIVE_PRODUCTS",products:t}))(e))})}),Object(n.render)(c.a.createElement(l.a,{store:x},c.a.createElement(B,null)),document.getElementById("root"))}},[[16,1,2]]]);
//# sourceMappingURL=main.20b6c95e.chunk.js.map