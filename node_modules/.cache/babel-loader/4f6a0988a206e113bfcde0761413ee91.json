{"ast":null,"code":"import _objectSpread from\"/Users/mac/devops-projects/redux/examples/shopping-cart/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import{combineReducers}from'redux';import{RECEIVE_PRODUCTS,ADD_TO_CART}from'../constants/ActionTypes';const products=(state,action)=>{switch(action.type){case ADD_TO_CART:return _objectSpread({},state,{inventory:state.inventory-1});default:return state;}};const byId=(state={},action)=>{switch(action.type){case RECEIVE_PRODUCTS:return _objectSpread({},state,{},action.products.reduce((obj,product)=>{obj[product.id]=product;return obj;},{}));default:const productId=action.productId;if(productId){return _objectSpread({},state,{[productId]:products(state[productId],action)});}return state;}};const visibleIds=(state=[],action)=>{switch(action.type){case RECEIVE_PRODUCTS:return action.products.map(product=>product.id);default:return state;}};export default combineReducers({byId,visibleIds});export const getProduct=(state,id)=>state.byId[id];export const getVisibleProducts=state=>state.visibleIds.map(id=>getProduct(state,id));","map":{"version":3,"sources":["/Users/mac/devops-projects/redux/examples/shopping-cart/src/reducers/products.js"],"names":["combineReducers","RECEIVE_PRODUCTS","ADD_TO_CART","products","state","action","type","inventory","byId","reduce","obj","product","id","productId","visibleIds","map","getProduct","getVisibleProducts"],"mappings":"6KAAA,OAASA,eAAT,KAAgC,OAAhC,CACA,OAASC,gBAAT,CAA2BC,WAA3B,KAA8C,0BAA9C,CAEA,KAAMC,CAAAA,QAAQ,CAAG,CAACC,KAAD,CAAQC,MAAR,GAAmB,CAClC,OAAQA,MAAM,CAACC,IAAf,EACE,IAAKJ,CAAAA,WAAL,CACE,wBACKE,KADL,EAEEG,SAAS,CAAEH,KAAK,CAACG,SAAN,CAAkB,CAF/B,GAIF,QACE,MAAOH,CAAAA,KAAP,CAPJ,CASD,CAVD,CAYA,KAAMI,CAAAA,IAAI,CAAG,CAACJ,KAAK,CAAG,EAAT,CAAaC,MAAb,GAAwB,CACnC,OAAQA,MAAM,CAACC,IAAf,EACE,IAAKL,CAAAA,gBAAL,CACE,wBACKG,KADL,IAEKC,MAAM,CAACF,QAAP,CAAgBM,MAAhB,CAAuB,CAACC,GAAD,CAAMC,OAAN,GAAkB,CAC1CD,GAAG,CAACC,OAAO,CAACC,EAAT,CAAH,CAAkBD,OAAlB,CACA,MAAOD,CAAAA,GAAP,CACD,CAHE,CAGA,EAHA,CAFL,EAOF,aACUG,CAAAA,SADV,CACwBR,MADxB,CACUQ,SADV,CAEE,GAAIA,SAAJ,CAAe,CACb,wBACKT,KADL,EAEE,CAACS,SAAD,EAAaV,QAAQ,CAACC,KAAK,CAACS,SAAD,CAAN,CAAmBR,MAAnB,CAFvB,GAID,CACD,MAAOD,CAAAA,KAAP,CAjBJ,CAmBD,CApBD,CAsBA,KAAMU,CAAAA,UAAU,CAAG,CAACV,KAAK,CAAG,EAAT,CAAaC,MAAb,GAAwB,CACzC,OAAQA,MAAM,CAACC,IAAf,EACE,IAAKL,CAAAA,gBAAL,CACE,MAAOI,CAAAA,MAAM,CAACF,QAAP,CAAgBY,GAAhB,CAAoBJ,OAAO,EAAIA,OAAO,CAACC,EAAvC,CAAP,CACF,QACE,MAAOR,CAAAA,KAAP,CAJJ,CAMD,CAPD,CASA,cAAeJ,CAAAA,eAAe,CAAC,CAC7BQ,IAD6B,CAE7BM,UAF6B,CAAD,CAA9B,CAKA,MAAO,MAAME,CAAAA,UAAU,CAAG,CAACZ,KAAD,CAAQQ,EAAR,GACxBR,KAAK,CAACI,IAAN,CAAWI,EAAX,CADK,CAGP,MAAO,MAAMK,CAAAA,kBAAkB,CAAGb,KAAK,EACrCA,KAAK,CAACU,UAAN,CAAiBC,GAAjB,CAAqBH,EAAE,EAAII,UAAU,CAACZ,KAAD,CAAQQ,EAAR,CAArC,CADK","sourcesContent":["import { combineReducers } from 'redux'\nimport { RECEIVE_PRODUCTS, ADD_TO_CART } from '../constants/ActionTypes'\n\nconst products = (state, action) => {\n  switch (action.type) {\n    case ADD_TO_CART:\n      return {\n        ...state,\n        inventory: state.inventory - 1\n      }\n    default:\n      return state\n  }\n}\n\nconst byId = (state = {}, action) => {\n  switch (action.type) {\n    case RECEIVE_PRODUCTS:\n      return {\n        ...state,\n        ...action.products.reduce((obj, product) => {\n          obj[product.id] = product\n          return obj\n        }, {})\n      }\n    default:\n      const { productId } = action\n      if (productId) {\n        return {\n          ...state,\n          [productId]: products(state[productId], action)\n        }\n      }\n      return state\n  }\n}\n\nconst visibleIds = (state = [], action) => {\n  switch (action.type) {\n    case RECEIVE_PRODUCTS:\n      return action.products.map(product => product.id)\n    default:\n      return state\n  }\n}\n\nexport default combineReducers({\n  byId,\n  visibleIds\n})\n\nexport const getProduct = (state, id) =>\n  state.byId[id]\n\nexport const getVisibleProducts = state =>\n  state.visibleIds.map(id => getProduct(state, id))\n"]},"metadata":{},"sourceType":"module"}