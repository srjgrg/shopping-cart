{"ast":null,"code":"import _objectSpread from \"/Users/mac/devops-projects/shopping-carts/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\nimport { ADD_TO_CART, CHECKOUT_REQUEST, CHECKOUT_FAILURE } from '../constants/ActionTypes';\nconst initialState = {\n  addedIds: [],\n  quantityById: {}\n};\n\nconst addedIds = (state = initialState.addedIds, action) => {\n  switch (action.type) {\n    case ADD_TO_CART:\n      if (state.indexOf(action.productId) !== -1) {\n        return state;\n      }\n\n      return [...state, action.productId];\n\n    default:\n      return state;\n  }\n};\n\nconst quantityById = (state = initialState.quantityById, action) => {\n  switch (action.type) {\n    case ADD_TO_CART:\n      const productId = action.productId;\n      return _objectSpread({}, state, {\n        [productId]: (state[productId] || 0) + 1\n      });\n\n    default:\n      return state;\n  }\n};\n\nexport const getQuantity = (state, productId) => state.quantityById[productId] || 0;\nexport const getAddedIds = state => state.addedIds;\n\nconst cart = (state = initialState, action) => {\n  switch (action.type) {\n    case CHECKOUT_REQUEST:\n      return initialState;\n\n    case CHECKOUT_FAILURE:\n      return action.cart;\n\n    default:\n      return {\n        addedIds: addedIds(state.addedIds, action),\n        quantityById: quantityById(state.quantityById, action)\n      };\n  }\n};\n\nexport default cart;","map":{"version":3,"sources":["/Users/mac/devops-projects/shopping-carts/src/reducers/cart.js"],"names":["ADD_TO_CART","CHECKOUT_REQUEST","CHECKOUT_FAILURE","initialState","addedIds","quantityById","state","action","type","indexOf","productId","getQuantity","getAddedIds","cart"],"mappings":";AAAA,SACEA,WADF,EAEEC,gBAFF,EAGEC,gBAHF,QAIO,0BAJP;AAMA,MAAMC,YAAY,GAAG;AACnBC,EAAAA,QAAQ,EAAE,EADS;AAEnBC,EAAAA,YAAY,EAAE;AAFK,CAArB;;AAKA,MAAMD,QAAQ,GAAG,CAACE,KAAK,GAAGH,YAAY,CAACC,QAAtB,EAAgCG,MAAhC,KAA2C;AAC1D,UAAQA,MAAM,CAACC,IAAf;AACE,SAAKR,WAAL;AACE,UAAIM,KAAK,CAACG,OAAN,CAAcF,MAAM,CAACG,SAArB,MAAoC,CAAC,CAAzC,EAA4C;AAC1C,eAAOJ,KAAP;AACD;;AACD,aAAO,CAAE,GAAGA,KAAL,EAAYC,MAAM,CAACG,SAAnB,CAAP;;AACF;AACE,aAAOJ,KAAP;AAPJ;AASD,CAVD;;AAYA,MAAMD,YAAY,GAAG,CAACC,KAAK,GAAGH,YAAY,CAACE,YAAtB,EAAoCE,MAApC,KAA+C;AAClE,UAAQA,MAAM,CAACC,IAAf;AACE,SAAKR,WAAL;AAAA,YACUU,SADV,GACwBH,MADxB,CACUG,SADV;AAEE,+BAAYJ,KAAZ;AACE,SAACI,SAAD,GAAa,CAACJ,KAAK,CAACI,SAAD,CAAL,IAAoB,CAArB,IAA0B;AADzC;;AAGF;AACE,aAAOJ,KAAP;AAPJ;AASD,CAVD;;AAYA,OAAO,MAAMK,WAAW,GAAG,CAACL,KAAD,EAAQI,SAAR,KACzBJ,KAAK,CAACD,YAAN,CAAmBK,SAAnB,KAAiC,CAD5B;AAGP,OAAO,MAAME,WAAW,GAAGN,KAAK,IAAIA,KAAK,CAACF,QAAnC;;AAEP,MAAMS,IAAI,GAAG,CAACP,KAAK,GAAGH,YAAT,EAAuBI,MAAvB,KAAkC;AAC7C,UAAQA,MAAM,CAACC,IAAf;AACE,SAAKP,gBAAL;AACE,aAAOE,YAAP;;AACF,SAAKD,gBAAL;AACE,aAAOK,MAAM,CAACM,IAAd;;AACF;AACE,aAAO;AACLT,QAAAA,QAAQ,EAAEA,QAAQ,CAACE,KAAK,CAACF,QAAP,EAAiBG,MAAjB,CADb;AAELF,QAAAA,YAAY,EAAEA,YAAY,CAACC,KAAK,CAACD,YAAP,EAAqBE,MAArB;AAFrB,OAAP;AANJ;AAWD,CAZD;;AAcA,eAAeM,IAAf","sourcesContent":["import {\n  ADD_TO_CART,\n  CHECKOUT_REQUEST,\n  CHECKOUT_FAILURE\n} from '../constants/ActionTypes'\n\nconst initialState = {\n  addedIds: [],\n  quantityById: {}\n}\n\nconst addedIds = (state = initialState.addedIds, action) => {\n  switch (action.type) {\n    case ADD_TO_CART:\n      if (state.indexOf(action.productId) !== -1) {\n        return state\n      }\n      return [ ...state, action.productId ]\n    default:\n      return state\n  }\n}\n\nconst quantityById = (state = initialState.quantityById, action) => {\n  switch (action.type) {\n    case ADD_TO_CART:\n      const { productId } = action\n      return { ...state,\n        [productId]: (state[productId] || 0) + 1\n      }\n    default:\n      return state\n  }\n}\n\nexport const getQuantity = (state, productId) =>\n  state.quantityById[productId] || 0\n\nexport const getAddedIds = state => state.addedIds\n\nconst cart = (state = initialState, action) => {\n  switch (action.type) {\n    case CHECKOUT_REQUEST:\n      return initialState\n    case CHECKOUT_FAILURE:\n      return action.cart\n    default:\n      return {\n        addedIds: addedIds(state.addedIds, action),\n        quantityById: quantityById(state.quantityById, action)\n      }\n  }\n}\n\nexport default cart\n"]},"metadata":{},"sourceType":"module"}